# 🧠 PsyCounselor - 智能心理咨询RAG系统

## 📋 项目概述
这是一个基于检索增强生成(RAG)技术的专业心理咨询AI系统，集成了危机检测、情绪分析、人格画像等多项AI技术，为用户提供智能化的心理健康服务。

## 🚀 核心功能亮点

### 🔥 主要技术特色
- **多模型融合架构**：集成Qwen3-32B大语言模型、BGE向量编码器、CrisisBERT危机检测模型
- **RAG检索增强**：基于心理学专业语料库的知识问答系统
- **实时情绪智能**：多维度情绪识别与趋势分析
- **智能危机预警**：自动识别高危心理状态并触发干预机制
- **人格画像分析**：基于大五人格理论的深度用户特征分析 *(新增加分功能)*

### 🎯 核心功能模块

#### 1. 智能对话系统 ⭐⭐⭐⭐⭐
- 基于FastAPI的高性能RESTful API服务
- 支持多轮对话上下文管理和记忆机制
- 集成SQLite数据库的用户对话历史存储
- 后台深度思考机制，提升回复质量

#### 2. 心理咨询知识库 ⭐⭐⭐⭐⭐
- PsyDTCorpus心理学专业语料库（数千条真实咨询对话）
- FAISS向量数据库支持的高效语义搜索
- BGE-large-zh-v1.5嵌入式文本编码技术
- 相似案例智能推荐机制

#### 3. 情绪智能分析 ⭐⭐⭐⭐⭐
- 实时情绪分类（愤怒、厌恶、恐惧、快乐、悲伤、惊讶、中性）
- 多维度情感强度评估和趋势追踪
- 可视化情绪仪表板和数据分析
- 用户情绪历史统计和模式识别

#### 4. 危机干预系统 ⭐⭐⭐⭐⭐
- CrisisBERT模型驱动的智能风险检测
- 关键词+语义双重检测机制
- 多级别风险评估（低/中/高危）
- 自动紧急情况识别和干预策略

#### 5. 人格画像分析 ⭐⭐⭐⭐⭐
- 基于大五人格理论(OCEAN模型)的深度分析
- 开放性、尽责性、外向性、宜人性、神经质五大维度
- 个性化心理特征报告生成
- 发展建议和优化策略推荐
- 可视化雷达图展示

#### 6. 个性化建议引擎 ⭐⭐⭐⭐⭐ (高价值加分项)
- 基于情绪轨迹和人格特征的定制化建议生成
- 多维度干预策略库（应急、短期、长期）
- 个性化行动计划制定
- 智能资源推荐系统
- 动态建议更新机制

## 🛠 技术架构

### 后端技术栈
- **框架**: FastAPI + Python 3.8+
- **大语言模型**: Qwen3-32B AWQ量化版本
- **向量检索**: FAISS + BGE-large-zh-v1.5
- **危机检测**: CrisisBERT + 关键词匹配
- **情绪分析**: RoBERTa-Chinese微调模型
- **数据库**: SQLite (用户记忆存储)
- **部署**: LMDeploy推理引擎

### 前端技术栈
- **核心界面**: HTML5 + CSS3 + JavaScript
- **数据可视化**: Chart.js (情绪趋势、人格雷达图)
- **实时交互**: AJAX异步通信
- **响应式设计**: 移动端适配

### 📊 API接口概览

### 核心服务接口
```
POST /ask                 # 主要咨询问答接口
GET  /health             # 系统健康检查
GET  /crisis/stats       # 危机检测统计
POST /emotion/analyze    # 实时情绪分析
GET  /emotion/trend/{user_id}  # 情绪趋势数据
POST /personality/analyze # 人格画像分析
GET  /personality/profile/{user_id} # 获取人格画像
POST /recommendations/generate # 生成个性化建议 (新增高价值功能)
GET  /recommendations/user/{user_id} # 获取用户建议记录 (新增)
```


### 🔥 高光技术点
1. **大规模模型集成经验**：成功部署Qwen3-32B等大模型，掌握模型量化、推理优化技术
2. **RAG系统架构设计**：构建完整的检索增强生成pipeline，提升问答准确率
3. **多模态AI融合**：整合NLP、情绪分析、危机检测、个性化推荐等多个AI模块
4. **实时系统开发**：实现毫秒级响应的心理咨询服务系统
5. **用户画像技术**：运用心理学理论构建个性化用户分析系统
6. **智能推荐算法**：基于多维数据的个性化建议生成引擎

### 📈 商业价值体现
- **心理健康领域创新**：将AI技术应用于心理咨询这一高价值领域
- **风险控制能力**：通过智能危机检测降低服务风险
- **个性化服务**：基于用户特征提供定制化心理建议
- **数据驱动优化**：通过用户行为数据分析持续改进服务质量
- **差异化竞争优势**：独有的个性化建议引擎提升产品竞争力
- **商业化潜力**：可直接转化为付费咨询服务的核心功能

### 🎯 面试话题准备
1. **技术深度**：详细阐述RAG系统的技术选型和优化策略
2. **产品思维**：如何平衡AI能力与心理健康服务的专业性
3. **工程实践**：系统性能优化、错误处理、监控告警等工程化考量
4. **伦理合规**：心理健康AI服务的数据隐私和伦理问题处理

## 🚀 部署与演示

### 快速启动
```bash
# 启动主服务
cd /root/lanyun-tmp/heart
python app/main.py

# 访问前端界面
# 情绪仪表板: http://localhost:8001/emotion_dashboard.html
# 人格画像仪表板: http://localhost:8001/personality_dashboard.html
```

### 系统监控
- 健康检查: `curl http://localhost:8001/health`
- 性能指标: 响应时间、并发处理能力、资源占用
- 服务质量: 准确率、用户满意度、危机识别率



